# 第十一周作业
结课作业
《基于智能体协作的狼人杀游戏系统开发》

# 题目背景
传统桌游类 AI 实现往往依赖规则引擎或有限状态机，缺乏角色个性、语言推理与社交博弈能力。随着大模型 Agent 技术的发展，我们有机会构建真正具备“角色扮演+策略推理+自然对话”能力的智能玩家。
本题要求使用主流 Agent 框架实现一个可运行、可观测的狼人杀游戏系统，探索 AI 在复杂社交决策场景中的表现。

# 技术要求（任选其一框架）
- 使用 LangChain + LangGraph / AutoGen / CrewAI 中任意一种框架
- 支持至少 5 名 AI 玩家参与（3村民 + 2狼人）
- 实现标准流程：夜晚行动 → 天亮公布死亡 → 发言环节 → 投票处决 → 夜晚行动 → 天亮公布死亡...村民/狼人获胜
- 每个 Agent 应具备：
    - 角色身份记忆（长期记忆管理）
    - 发言策略生成能力（基于当前局势推理）
    - 身份伪装或揭露行为（狼人需隐藏身份，村民可推理）

# 核心功能点（评分维度）
| 功能模块 | 具体要求 | 能力价值 |
|----------|----------|----------|
| 1. Agent 角色建模 | 定义不同角色 Prompt 模板（狼人/村民），并注入角色性格（如激进型狼人、谨慎型村民） | 强化提示工程与角色设定能力 |
| 2. 游戏流程控制 | 设计主持人（Moderator Agent）协调阶段流转，确保顺序正确 | 掌握多 Agent 协同调度机制 |
| 3. 记忆管理 | 实现跨轮次的记忆存储（例如谁说了什么、谁被怀疑过）；“情景记忆+语义记忆”机制；建议使用向量数据库（如 Milvus/Faiss 等）做语义记忆召回；在发言阶段，Agent 可检索历史发言记录进行反驳或佐证 | 在智能体评估中的重要性 |
| 4. RAG 增强推理 | RAG 在智能体评估中的重要性；体现 RAG 在 Agent 决策链中的作用 | 企业级系统成本量化评估的关注 |
| 5. 可视化执行追踪（加分项） | 输出每轮各 Agent 的思考链（Thought）、动作（Action）、观察（Observation）；“中间过程可视化”和“问题溯源” | 无明确对应能力价值 |
| 6. 成本与复杂度分析报告（附加任务） | 统计总调用 token 数、平均响应延迟、GPU 资源预估 | 企业级系统成本量化评估的关注 |


# 开发建议
- 循环迭代：先跑通基础版本 → 发现“狼人暴露太早”等问题 → 引入 RAG 和记忆优化 → 迭代改进。

# 最终交付物
- fork这个仓库，然后在week11-homework -> werewolf目录下完成作业
- 作业应包含:
    - 游戏日志样本（含完整一局回放）
    - 简要设计文档（说明架构选择、RAG 应用方式、调试方法）
    - （可选）本地可视化界面原型（如 Streamlit 展示执行流）

# 框架选择建议
| 框架            | 优势                                       |
|-----------------|--------------------------------------------|
| LangChain + LangGraph | 流程可控性强，易于集成 RAG 与记忆模块         |
| AutoGen         | 多 Agent 对话天然支持，适合模拟发言环节         |
| CrewAI          | 任务分工清晰，角色定义简洁                     |

